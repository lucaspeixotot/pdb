Config:
  sector_count: 4

Channels:
  - FIRMWARE_VERSION:
      size: 4
      read_only: True
      initial_value: [0xF1, 0xF2, 0xF3, 0xF4]
  - TEST_STRUCT:
      message: !ref SENSORS_MSG
      persistent: true
        
Services:
  - CORE:
      priority: 2
      stack_size: 2048
      sub_channels:
        - !ref TEST_STRUCT

Messages:
  - SENSORS_MSG:
      mtype: struct
      fields:
        - a:
            mtype: u8
            size: 4
        - b:
            mtype: u16
        - c:
            mtype: union
            fields:
              - d:
                  mtype: u32
              - e:
                  mtype: struct
                  size: 2
                  fields:
                    - f:
                        mtype: u64

        - g: 
            mtype: bitarray_u32
            fields:
              - f0:
                  mtype: bits
                  size: 3
              - f1: 
                  mtype: bits
                  size: 5
              - f2: 
                  mtype: bits
                  size: 16
              - f3:
                  mtype: bits
                  size: 8
